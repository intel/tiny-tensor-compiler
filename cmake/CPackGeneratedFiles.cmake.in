# Copyright (C) 2025 Intel Corporation
# SPDX-License-Identifier: BSD-3-Clause

if(CPACK_SOURCE_INSTALLED_DIRECTORIES)
    file(GLOB FILE_LISTS "@GENERATED_FILE_LISTS_DIR@/*.list")
    foreach(_file_list ${FILE_LISTS})
        file(READ ${_file_list} _files)
        foreach(_src ${_files})
            file(RELATIVE_PATH _src_rel @PROJECT_BINARY_DIR@ ${_src})
            get_filename_component(_src_dir ${_src_rel} DIRECTORY)
            message(STATUS "Adding generated file ${_src_rel} to ${_src_dir}")
            file(INSTALL ${_src} DESTINATION "${CMAKE_CURRENT_SOURCE_DIR}/${_src_dir}")
        endforeach()
    endforeach()
endif()
