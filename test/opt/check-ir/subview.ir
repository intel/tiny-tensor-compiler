; Copyright (C) 2024 Intel Corporation
; SPDX-License-Identifier: BSD-3-Clause

; RUN: %tinytc-opt -pcheck-ir -O0 < %s | filecheck %s

; No real checks needed, just check that it does not crash
; CHECK: func @t1({{.*}}

func @t1(%0: memref<f32x32x16>) {
  %1 = subview %0[4:8,8:4] : memref<f32x32x16>
}
func @t2(%0: memref<f32x16x8>, %1: index) {
  %2 = subview %0[2:4,%1] : memref<f32x16x8>
}
func @t3(%0: memref<f64x16x8>, %1: index) {
  %2 = subview %0[2:4,%1:0] : memref<f64x16x8>
}
func @t4(%0: memref<f64x16x8>, %1: index) {
  %2 = subview %0[2:4,%1:1] : memref<f64x16x8>
}
func @t5(%0: memref<f32x16>, %1: index) {
  %2 = subview %0[%1:4] : memref<f32x16>
}
func @t6(%0: memref<f32x16>, %1: index) {
  %2 = subview %0[%1:%1] : memref<f32x16>
}
func @t7(%0: memref<f32x16x42x13>, %1: index) {
  %2 = subview %0[2:4, %1:%1, 6:7] : memref<f32x16x42x13>
}
func @t8(%0: memref<f32x16x42x13,strided<1,?,?>>, %1: index) {
  %2 = subview %0[2:4, %1:%1, 6:7] : memref<f32x16x42x13,strided<1,?,?>>
}
