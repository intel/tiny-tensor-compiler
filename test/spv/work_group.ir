; Copyright (C) 2024 Intel Corporation
; SPDX-License-Identifier: BSD-3-Clause

; RUN: %tinytc-oc -S -O0 < %s | filecheck %s

; CHECK: OpCapability Group
; CHECK: %[[#I16:]] = OpTypeInt 16 0
; CHECK: %[[#F32:]] = OpTypeFloat 32
; CHECK: %[[#F64:]] = OpTypeFloat 64
; CHECK: %[[#C64:]] = OpTypeVector %[[#F64]] 2
; CHECK: %[[#SCOPE:]] = OpConstant %[[#]] 2

func @twg() {
  %0 = constant 1 : i16
  %1 = constant 1.0 : f32
  %2 = constant [1.0, 0.0] : c64
  %3 = work_group.reduce_add %0 : i16
  %4 = work_group.reduce_add %1 : f32
  %5 = work_group.reduce_add %2 : c64
; CHECK: %[[#]] = OpGroupIAdd %[[#I16]] %[[#SCOPE]] Reduce %[[#]]
; CHECK: %[[#]] = OpGroupFAdd %[[#F32]] %[[#SCOPE]] Reduce %[[#]]
; CHECK: %[[#]] = OpGroupFAdd %[[#C64]] %[[#SCOPE]] Reduce %[[#]]
}
